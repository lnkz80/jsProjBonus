{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js","webpack:///./src/js/modules/form.js","webpack:///./src/js/modules/modal.js","webpack:///./src/js/services/postData.js"],"names":["document","addEventListener","modal","formCallMe","formSelector","forms","querySelectorAll","numbers","forEach","form","querySelector","e","preventDefault","userPhone","value","match","alert","formData","FormData","postObj","Object","fromEntries","entries","reqUrl","nextPostId","postData","then","data","id","length","console","log","catch","err","error","openModal","modObj","classList","remove","add","closeModal","modTriggerSelector","modalWindowSelector","modTrigger","modalWindow","item","target","parentElement","getAttribute","url","postSettings","method","headers","body","JSON","stringify","req","fetch","ok","Error","status","json"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAa;;AACb;AACA;AACA;AAEAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,MAAM;EAClDC,8DAAK,CAAC,qBAAD,EAAwB,iBAAxB,CAAL;EACAA,8DAAK,CAAC,aAAD,EAAgB,QAAhB,CAAL;EACAC,6DAAU,CAAC,YAAD,CAAV;EACAA,6DAAU,CAAC,aAAD,CAAV;AACD,CALD,E;;;;;;;;;;;;ACLA;AAAA;AAAA;;AAEA,MAAMA,UAAU,GAAIC,YAAD,IAAkB;EACnC,MAAMC,KAAK,GAAGL,QAAQ,CAACM,gBAAT,CAA0BF,YAA1B,CAAd;EACA,MAAMG,OAAO,GAAG,UAAhB;EACAF,KAAK,CAACG,OAAN,CAAeC,IAAD,IAAU;IACtB;IACA;IACA;IACA;IACAA,IAAI,CAACC,aAAL,CAAmB,QAAnB,EAA6BT,gBAA7B,CAA8C,OAA9C,EAAwDU,CAAD,IAAO;MAC5DA,CAAC,CAACC,cAAF;;MACA,IAAI,CAACH,IAAI,CAACI,SAAL,CAAeC,KAAf,CAAqBC,KAArB,CAA2BR,OAA3B,CAAL,EAA0C;QACxCS,KAAK,CAAC,gDAAD,CAAL;QACAP,IAAI,CAACI,SAAL,CAAeC,KAAf,GAAuB,EAAvB,CAFwC,CAGxC;;QACA,OAAO,KAAP;MACD,CAP2D,CAQ5D;;;MACA,MAAMG,QAAQ,GAAG,IAAIC,QAAJ,CAAaT,IAAb,CAAjB,CAT4D,CAU5D;MAEA;;MACA,MAAMU,OAAO,GAAGC,MAAM,CAACC,WAAP,CAAmBJ,QAAQ,CAACK,OAAT,EAAnB,CAAhB;MAEA,MAAMC,MAAM,GAAG,+BAAf;MACA,IAAIC,UAAU,GAAG,CAAjB;MACAC,kEAAQ,CAACF,MAAD,CAAR,CACGG,IADH,CACSC,IAAD,IAAU;QACdR,OAAO,CAACS,EAAR,GAAaD,IAAI,CAACE,MAAL,GAAc,CAA3B;QACAJ,kEAAQ,CAACF,MAAD,EAASJ,OAAT,CAAR,CACGO,IADH,CACSC,IAAD,IAAUG,OAAO,CAACC,GAAR,CAAYJ,IAAZ,CADlB,EAEGK,KAFH,CAEUC,GAAD,IAASH,OAAO,CAACI,KAAR,CAAcD,GAAd,CAFlB;MAGD,CANH,EAOGD,KAPH,CAOUC,GAAD,IAASH,OAAO,CAACI,KAAR,CAAcD,GAAd,CAPlB;MAQAH,OAAO,CAACC,GAAR,CAAY,uBAAZ;IACD,CA1BD;EA2BD,CAhCD;AAiCD,CApCD;;AAsCe5B,yEAAf,E;;;;;;;;;;;;ACxCA;AAAA;CACA;;AACA,MAAMgC,SAAS,GAAIC,MAAD,IAAY;EAC5BA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB,MAAxB;EACAF,MAAM,CAACC,SAAP,CAAiBE,GAAjB,CAAqB,MAArB;AACD,CAHD;;AAKA,MAAMC,UAAU,GAAIJ,MAAD,IAAY;EAC7BA,MAAM,CAACC,SAAP,CAAiBC,MAAjB,CAAwB,MAAxB;EACAF,MAAM,CAACC,SAAP,CAAiBE,GAAjB,CAAqB,MAArB;AACD,CAHD;;AAKA,MAAMrC,KAAK,GAAG,CAACuC,kBAAD,EAAqBC,mBAArB,KAA6C;EACzD,MAAMC,UAAU,GAAG3C,QAAQ,CAACM,gBAAT,CAA0BmC,kBAA1B,CAAnB;EAAA,MACEG,WAAW,GAAG5C,QAAQ,CAACU,aAAT,CAAuBgC,mBAAvB,CADhB,CADyD,CAIzD;;EACAC,UAAU,CAACnC,OAAX,CAAoBqC,IAAD,IAAU;IAC3BA,IAAI,CAAC5C,gBAAL,CAAsB,OAAtB,EAAgCU,CAAD,IAAO;MACpCA,CAAC,CAACC,cAAF;MACAuB,SAAS,CAACS,WAAD,CAAT;MACAzC,qDAAU,CAAC,iBAAD,CAAV;IACD,CAJD;EAKD,CAND,EALyD,CAazD;;EACAyC,WAAW,CAAC3C,gBAAZ,CAA6B,OAA7B,EAAuCU,CAAD,IAAO;IAC3C,IACEA,CAAC,CAACmC,MAAF,KAAaF,WAAb,IACAjC,CAAC,CAACmC,MAAF,CAASC,aAAT,CAAuBC,YAAvB,CAAoC,YAApC,KAAqD,EAFvD,EAGE;MACAR,UAAU,CAACI,WAAD,CAAV;IACD;EACF,CAPD;AAQD,CAtBD;;AAwBe1C,oEAAf,E;;;;;;;;;;;;ACpCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA,MAAMuB,QAAQ,GAAG,gBAAOwB,GAAP,EAA4B;EAAA,IAAhBtB,IAAgB,uEAAT,IAAS;EAC3C,MAAMuB,YAAY,GAAG;IACnBC,MAAM,EAAE,MADW;IAEnBC,OAAO,EAAE;MAAE,gBAAgB;IAAlB,CAFU;IAGnBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe5B,IAAf;EAHa,CAArB;EAMA,MAAM6B,GAAG,GAAG,MAAMC,KAAK,CAACR,GAAD,EAAMtB,IAAI,GAAGuB,YAAH,GAAkB,IAA5B,CAAvB;;EACA,IAAI,CAACM,GAAG,CAACE,EAAT,EAAa;IACX,MAAM,IAAIC,KAAJ,CAAW,mBAAkBV,GAAI,oBAAmBO,GAAG,CAACI,MAAO,EAA/D,CAAN;EACD;;EACD,OAAO,MAAMJ,GAAG,CAACK,IAAJ,EAAb;AACD,CAZD;;AAaepC,uEAAf,E","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","\"use strict\";\r\nimport postData from \"./services/postData\";\r\nimport formCallMe from \"./modules/form\";\r\nimport modal from \"./modules/modal\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  modal(\".popup_engineer_btn\", \".popup_engineer\");\r\n  modal(\".phone_link\", \".popup\");\r\n  formCallMe(\".main_form\");\r\n  formCallMe(\".popup_form\");\r\n});\r\n","import postData from \"../services/postData\";\r\n\r\nconst formCallMe = (formSelector) => {\r\n  const forms = document.querySelectorAll(formSelector);\r\n  const numbers = /^[0-9]+$/;\r\n  forms.forEach((form) => {\r\n    // form.querySelector('[name=\"user_phone\"]').addEventListener(\"keyup\", () => {\r\n    //     console.log(form.querySelector('[name=\"user_phone\"]').value);\r\n    // });\r\n    // console.log(form);\r\n    form.querySelector(\"button\").addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      if (!form.userPhone.value.match(numbers)) {\r\n        alert(\"В полі 'Телефон' треба вводити тільки цифри!!!\");\r\n        form.userPhone.value = \"\";\r\n        // form.querySelector('[name=\"user_phone\"]').value = \"\";\r\n        return false;\r\n      }\r\n      //get data from form fields and convert to json\r\n      const formData = new FormData(form);\r\n      // const json = JSON.stringify(Object.fromEntries(formData.entries()));\r\n\r\n      //HERE MUST BE A POSTDATA FUNCTION WITH AJAX\r\n      const postObj = Object.fromEntries(formData.entries());\r\n\r\n      const reqUrl = \"http://localhost:3000/members\";\r\n      let nextPostId = 1;\r\n      postData(reqUrl)\r\n        .then((data) => {\r\n          postObj.id = data.length + 1;\r\n          postData(reqUrl, postObj)\r\n            .then((data) => console.log(data))\r\n            .catch((err) => console.error(err));\r\n        })\r\n        .catch((err) => console.error(err));\r\n      console.log(\"Data has been posted!\");\r\n    });\r\n  });\r\n};\r\n\r\nexport default formCallMe;\r\n","import formCallMe from \"./form\";\r\n//MODAL's open&close functions\r\nconst openModal = (modObj) => {\r\n  modObj.classList.remove(\"hide\");\r\n  modObj.classList.add(\"show\");\r\n};\r\n\r\nconst closeModal = (modObj) => {\r\n  modObj.classList.remove(\"show\");\r\n  modObj.classList.add(\"hide\");\r\n};\r\n\r\nconst modal = (modTriggerSelector, modalWindowSelector) => {\r\n  const modTrigger = document.querySelectorAll(modTriggerSelector),\r\n    modalWindow = document.querySelector(modalWindowSelector);\r\n\r\n  //open modal window event\r\n  modTrigger.forEach((item) => {\r\n    item.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      openModal(modalWindow);\r\n      formCallMe(\".main_form.show\");\r\n    });\r\n  });\r\n\r\n  //close modal window event (add \"data-close attr to index.html\")\r\n  modalWindow.addEventListener(\"click\", (e) => {\r\n    if (\r\n      e.target === modalWindow ||\r\n      e.target.parentElement.getAttribute(\"data-close\") == \"\"\r\n    ) {\r\n      closeModal(modalWindow);\r\n    }\r\n  });\r\n};\r\n\r\nexport default modal;","//XHR\r\n// const postData = (reqMethod, reqUrl) => {\r\n//   const request = new XMLHttpRequest();\r\n//   request.open(reqMethod, reqUrl);\r\n//   request.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\r\n//   request.responseType = \"JSON\";\r\n//   request.send();\r\n\r\n//   request.addEventListener(\"load\", () => {\r\n//     console.log(JSON.parse(request.response));\r\n//   });\r\n// };\r\n\r\n//VAR 2 - Minin ex\r\n// const postData = (reqMethod, reqUrl) => {\r\n//   return new Promise((resolve, reject) => {\r\n//     const xhr = new XMLHttpRequest();\r\n\r\n//     xhr.open(reqMethod, reqUrl);\r\n\r\n//     xhr.onload = () => {\r\n//       if (xhr.status >= 400) {\r\n//         reject(xhr.response);\r\n//       } else {\r\n//         resolve(xhr.response);\r\n//       }\r\n//     };\r\n\r\n//     xhr.onerror = () => {\r\n//       reject(xhr.response);\r\n//     };\r\n\r\n//     xhr.send();\r\n//   });\r\n// };\r\n\r\n//VAR 3 - FETCH\r\nconst postData = async (url, data = null) => {\r\n  const postSettings = {\r\n    method: \"POST\",\r\n    headers: { \"Content-type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  };\r\n\r\n  const req = await fetch(url, data ? postSettings : null);\r\n  if (!req.ok) {\r\n    throw new Error(`Could not fetch ${url}, receive status ${req.status}`);\r\n  }\r\n  return await req.json();\r\n};\r\nexport default postData;\r\n"],"sourceRoot":""}